# ğŸ—ï¸ AIæ™ºèƒ½é¢˜åº“ç³»ç»Ÿ - å®Œæ•´æ¶æ„æ–‡æ¡£

> **ç‰ˆæœ¬ï¼š** V1.0  
> **æ›´æ–°æ—¥æœŸï¼š** 2025-10-14  
> **æŠ€æœ¯æ ˆï¼š** NestJS + gRPC + tRPC + React Native + PostgreSQL

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¶æ„æ€»è§ˆ](#ç³»ç»Ÿæ¶æ„æ€»è§ˆ)
2. [å¾®æœåŠ¡æ‹†åˆ†](#å¾®æœåŠ¡æ‹†åˆ†)
3. [æŠ€æœ¯æ ˆè¯¦è§£](#æŠ€æœ¯æ ˆè¯¦è§£)
4. [ç›‘æ§ä¸æ—¥å¿—](#ç›‘æ§ä¸æ—¥å¿—)
5. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
6. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
7. [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## ğŸ“ ç³»ç»Ÿæ¶æ„æ€»è§ˆ

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å®¢æˆ·ç«¯å±‚ (Client Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  iOS App         â”‚              â”‚  Android App     â”‚            â”‚
â”‚  â”‚  (React Native)  â”‚              â”‚  (React Native)  â”‚            â”‚
â”‚  â”‚  å­¦å‘˜ç«¯          â”‚              â”‚  å­¦å‘˜ç«¯          â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â”‚                                  â”‚                       â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                          â”‚                                           â”‚
â”‚               tRPC over HTTP/JSON (ç±»å‹å®‰å…¨)                          â”‚
â”‚                          â”‚                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚         React Web Admin                     â”‚                     â”‚
â”‚  â”‚         (è€å¸ˆç«¯ç®¡ç†åå°)                    â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                          â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Gateway Layer                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              NestJS API Gateway (Port 3000)                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚ tRPC Serverâ”‚  â”‚   Auth     â”‚  â”‚  Metrics   â”‚            â”‚   â”‚
â”‚  â”‚  â”‚   Routes   â”‚  â”‚  Passport  â”‚  â”‚ Prometheus â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚   CORS     â”‚  â”‚Rate Limiterâ”‚  â”‚  Tracing   â”‚            â”‚   â”‚
â”‚  â”‚  â”‚   Guard    â”‚  â”‚  Sentinel  â”‚  â”‚   Jaeger   â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    gRPC (Protocol Buffers)
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Microservices Layer (å¾®æœåŠ¡å±‚)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ User Service â”‚  â”‚ Exam Service â”‚  â”‚Question Svc  â”‚              â”‚
â”‚  â”‚  Port 50051  â”‚  â”‚  Port 50052  â”‚  â”‚  Port 50053  â”‚              â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚              â”‚
â”‚  â”‚ â€¢ ç”¨æˆ·ç®¡ç†   â”‚  â”‚ â€¢ è€ƒè¯•ç®¡ç†   â”‚  â”‚ â€¢ é¢˜åº“ç®¡ç†   â”‚              â”‚
â”‚  â”‚ â€¢ è®¤è¯æˆæƒ   â”‚  â”‚ â€¢ ç›‘è€ƒé˜²ä½œå¼Š â”‚  â”‚ â€¢ å¤šçº§åˆ†ç±»   â”‚              â”‚
â”‚  â”‚ â€¢ RBACæƒé™   â”‚  â”‚ â€¢ æˆç»©ç®¡ç†   â”‚  â”‚ â€¢ æ ‡ç­¾æœç´¢   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Paper Serviceâ”‚  â”‚  AI Service  â”‚  â”‚Practice Svc  â”‚              â”‚
â”‚  â”‚  Port 50054  â”‚  â”‚  Port 50055  â”‚  â”‚  Port 50056  â”‚              â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚              â”‚
â”‚  â”‚ â€¢ è¯•å·ç»„å·   â”‚  â”‚ â€¢ AIæ‰¹æ”¹     â”‚  â”‚ â€¢ 6ç§ç»ƒä¹ æ¨¡å¼â”‚              â”‚
â”‚  â”‚ â€¢ æ™ºèƒ½ç»„å·   â”‚  â”‚ â€¢ AIå‡ºé¢˜     â”‚  â”‚ â€¢ é”™é¢˜æœ¬     â”‚              â”‚
â”‚  â”‚ â€¢ æ¨¡æ‹Ÿè€ƒè¯•   â”‚  â”‚ â€¢ DeepSeek   â”‚  â”‚ â€¢ æ”¶è—å¤¹     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚Analytics Svc â”‚  â”‚ Social Svc   â”‚  â”‚Document Svc  â”‚              â”‚
â”‚  â”‚  Port 50057  â”‚  â”‚  Port 50058  â”‚  â”‚  Port 50059  â”‚              â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚              â”‚
â”‚  â”‚ â€¢ æ•°æ®åˆ†æ   â”‚  â”‚ â€¢ æ’è¡Œæ¦œ     â”‚  â”‚ â€¢ æ–‡æ¡£è§£æ   â”‚              â”‚
â”‚  â”‚ â€¢ å­¦ä¹ æ›²çº¿   â”‚  â”‚ â€¢ PKå¯¹æˆ˜     â”‚  â”‚ â€¢ OCRè¯†åˆ«    â”‚              â”‚
â”‚  â”‚ â€¢ èƒ½åŠ›é›·è¾¾å›¾ â”‚  â”‚ â€¢ è®¨è®ºåŒº     â”‚  â”‚ â€¢ PDFæå–    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Infrastructure Layer (åŸºç¡€è®¾æ–½å±‚)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Service Mesh & Registry                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚   Consul   â”‚  â”‚  Jaeger    â”‚  â”‚Load Balanceâ”‚             â”‚   â”‚
â”‚  â”‚  â”‚  æ³¨å†Œä¸­å¿ƒ  â”‚  â”‚  é“¾è·¯è¿½è¸ª  â”‚  â”‚  6ç§ç®—æ³•   â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  Port 8500 â”‚  â”‚ Port 16686 â”‚  â”‚            â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Monitoring Stack                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚ Prometheus â”‚  â”‚  Grafana   â”‚  â”‚Alertmanagerâ”‚             â”‚   â”‚
â”‚  â”‚  â”‚  æŒ‡æ ‡æ”¶é›†  â”‚  â”‚  å¯è§†åŒ–    â”‚  â”‚  å‘Šè­¦ç®¡ç†  â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  Port 9090 â”‚  â”‚ Port 3001  â”‚  â”‚  Port 9093 â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       Logging Stack                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚Elasticsearchâ”‚ â”‚  Logstash  â”‚  â”‚   Kibana   â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  æ—¥å¿—å­˜å‚¨  â”‚  â”‚  æ—¥å¿—æ”¶é›†  â”‚  â”‚  æ—¥å¿—æŸ¥è¯¢  â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  Port 9200 â”‚  â”‚  Port 5000 â”‚  â”‚  Port 5601 â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Data Storage Layer                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚PostgreSQL 16â”‚ â”‚  Redis 7   â”‚  â”‚  Pinecone  â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  ä¸»æ•°æ®åº“  â”‚  â”‚  ç¼“å­˜/é˜Ÿåˆ— â”‚  â”‚  å‘é‡æ•°æ®åº“â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  Port 5432 â”‚  â”‚  Port 6379 â”‚  â”‚  (Cloud)   â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚   â”‚
â”‚  â”‚  â”‚ OSS/S3     â”‚  æ–‡ä»¶å­˜å‚¨ (é˜¿é‡Œäº‘OSS/AWS S3)                  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      External Services                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚ DeepSeek   â”‚  â”‚   Email    â”‚  â”‚    SMS     â”‚             â”‚   â”‚
â”‚  â”‚  â”‚  AIæœåŠ¡    â”‚  â”‚  é‚®ä»¶æœåŠ¡  â”‚  â”‚  çŸ­ä¿¡æœåŠ¡  â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æ“ä½œ â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Native  â”‚  1. ç”¨æˆ·ç™»å½•
â”‚   (ç§»åŠ¨ç«¯)      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
     â”‚ tRPC Request                     â”‚
     â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Gateway    â”‚  2. JWTéªŒè¯  â”‚ User Service â”‚
â”‚  (NestJS)       â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  (gRPC)      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                  â”‚
     â”‚ 3. è°ƒç”¨å…¶ä»–æœåŠ¡                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚              â”‚                  â”‚
     â–¼              â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Question â”‚  â”‚   Exam   â”‚      â”‚Practice  â”‚
â”‚ Service  â”‚  â”‚ Service  â”‚      â”‚ Service  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚             â”‚                   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  PostgreSQL  â”‚  4. æ•°æ®æŒä¹…åŒ–
            â”‚  (æ•°æ®åº“)    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Redis       â”‚  5. ç¼“å­˜/é˜Ÿåˆ—
            â”‚  (ç¼“å­˜)      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœåŠ¡é—´é€šä¿¡å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚API Gateway â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ gRPCè°ƒç”¨
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚               â”‚               â”‚             â”‚
       â–¼               â–¼               â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚User Service â”‚ â”‚Exam Service â”‚ â”‚   AI Svc    â”‚ â”‚Question Svc â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                               â”‚
       â”‚                               â–¼
       â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                        â”‚Document Svc â”‚ â—„â”€â”€â”€ OCR/PDFè§£æ
       â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚               â”‚
                       â–¼               â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚Practice Svc â”‚ â”‚Analytics Svcâ”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¯´æ˜ï¼š
- å®çº¿ï¼šåŒæ­¥gRPCè°ƒç”¨
- è™šçº¿ï¼šå¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—
- User Serviceæ˜¯è®¤è¯ä¸­å¿ƒï¼Œè¢«æ‰€æœ‰æœåŠ¡ä¾èµ–
```

---

## ğŸ¯ å¾®æœåŠ¡æ‹†åˆ†

### æœåŠ¡æ¸…å•

| æœåŠ¡åç§° | ç«¯å£ | èŒè´£ | æŠ€æœ¯æ ˆ |
|---------|------|------|--------|
| **API Gateway** | 3000 | ç»Ÿä¸€å…¥å£ã€è·¯ç”±ã€é‰´æƒ | NestJS + tRPC |
| **User Service** | 50051 | ç”¨æˆ·ç®¡ç†ã€è®¤è¯æˆæƒã€RBAC | NestJS + gRPC + Prisma |
| **Exam Service** | 50052 | è€ƒè¯•ç®¡ç†ã€ç›‘è€ƒã€æˆç»© | NestJS + gRPC + Prisma |
| **Question Service** | 50053 | é¢˜åº“ç®¡ç†ã€åˆ†ç±»ã€æœç´¢ | NestJS + gRPC + Prisma |
| **Paper Service** | 50054 | ç»„å·ã€æ™ºèƒ½ç»„å·ã€æ¨¡æ‹Ÿå· | NestJS + gRPC + Prisma |
| **AI Service** | 50055 | AIæ‰¹æ”¹ã€å‡ºé¢˜ã€æ¨è | NestJS + gRPC + DeepSeek |
| **Practice Service** | 50056 | ç»ƒä¹ æ¨¡å¼ã€é”™é¢˜æœ¬ã€æ”¶è— | NestJS + gRPC + Prisma |
| **Analytics Service** | 50057 | æ•°æ®åˆ†æã€å­¦ä¹ æ›²çº¿ | NestJS + gRPC + Prisma |
| **Social Service** | 50058 | æ’è¡Œæ¦œã€PKå¯¹æˆ˜ã€è®¨è®ºåŒº | NestJS + gRPC + Prisma |
| **Document Service** | 50059 | æ–‡æ¡£è§£æã€OCRè¯†åˆ« | NestJS + gRPC + Tesseract |

### æœåŠ¡ä¾èµ–å…³ç³»

```
User Service (è®¤è¯ä¸­å¿ƒ)
    â†‘
    â”‚ æ‰€æœ‰æœåŠ¡éƒ½ä¾èµ–ï¼ˆéªŒè¯Tokenï¼‰
    â”‚
    â”œâ”€â”€â”€ Exam Service
    â”‚       â†“
    â”‚    Question Service (è·å–é¢˜ç›®)
    â”‚       â†“
    â”‚    Paper Service (è·å–è¯•å·)
    â”‚       â†“
    â”‚    Analytics Service (è®°å½•ç»Ÿè®¡)
    â”‚
    â”œâ”€â”€â”€ AI Service
    â”‚       â†“
    â”‚    Document Service (æ–‡æ¡£è§£æ)
    â”‚       â†“
    â”‚    Question Service (åˆ›å»ºé¢˜ç›®)
    â”‚
    â””â”€â”€â”€ Practice Service
            â†“
         Analytics Service (ç»ƒä¹ ç»Ÿè®¡)
```

---

## ğŸ’» æŠ€æœ¯æ ˆè¯¦è§£

### åç«¯æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         NestJS 10 + TypeScript 5         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  æ ¸å¿ƒæ¡†æ¶                                â”‚
â”‚  â”œâ”€ @nestjs/core                        â”‚
â”‚  â”œâ”€ @nestjs/common                      â”‚
â”‚  â”œâ”€ @nestjs/microservices               â”‚
â”‚  â””â”€ @nestjs/platform-express            â”‚
â”‚                                          â”‚
â”‚  æ•°æ®åº“ & ORM                            â”‚
â”‚  â”œâ”€ Prisma 5 (ORM)                      â”‚
â”‚  â”œâ”€ PostgreSQL 16 (ä¸»æ•°æ®åº“)            â”‚
â”‚  â”œâ”€ Redis 7 (ç¼“å­˜/é˜Ÿåˆ—)                 â”‚
â”‚  â””â”€ Pinecone (å‘é‡æ•°æ®åº“)               â”‚
â”‚                                          â”‚
â”‚  å¾®æœåŠ¡é€šä¿¡                              â”‚
â”‚  â”œâ”€ gRPC (@grpc/grpc-js)                â”‚
â”‚  â”œâ”€ Protocol Buffers                    â”‚
â”‚  â””â”€ tRPC (ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨)               â”‚
â”‚                                          â”‚
â”‚  AI & æœºå™¨å­¦ä¹                            â”‚
â”‚  â”œâ”€ DeepSeek API                        â”‚
â”‚  â”œâ”€ LangChain.js                        â”‚
â”‚  â””â”€ @xenova/transformers                â”‚
â”‚                                          â”‚
â”‚  ç›‘æ§ & æ—¥å¿—                             â”‚
â”‚  â”œâ”€ prom-client (Prometheus)            â”‚
â”‚  â”œâ”€ @elastic/elasticsearch              â”‚
â”‚  â”œâ”€ @opentelemetry/api                  â”‚
â”‚  â””â”€ winston                             â”‚
â”‚                                          â”‚
â”‚  æ¶ˆæ¯é˜Ÿåˆ—                                â”‚
â”‚  â”œâ”€ Bull                                â”‚
â”‚  â””â”€ ioredis                             â”‚
â”‚                                          â”‚
â”‚  æ–‡æ¡£å¤„ç†                                â”‚
â”‚  â”œâ”€ pdf-parse                           â”‚
â”‚  â”œâ”€ mammoth                             â”‚
â”‚  â”œâ”€ pptx-parser                         â”‚
â”‚  â””â”€ tesseract.js                        â”‚
â”‚                                          â”‚
â”‚  å·¥å…·åº“                                  â”‚
â”‚  â”œâ”€ bcrypt (å¯†ç åŠ å¯†)                   â”‚
â”‚  â”œâ”€ jsonwebtoken (JWT)                  â”‚
â”‚  â”œâ”€ joi (æ•°æ®éªŒè¯)                      â”‚
â”‚  â””â”€ dayjs (æ—¶é—´å¤„ç†)                    â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç§»åŠ¨ç«¯æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      React Native + TypeScript           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  æ ¸å¿ƒæ¡†æ¶                                â”‚
â”‚  â”œâ”€ React Native 0.72+                  â”‚
â”‚  â”œâ”€ TypeScript 5                        â”‚
â”‚  â””â”€ Metro Bundler                       â”‚
â”‚                                          â”‚
â”‚  å¯¼èˆª                                    â”‚
â”‚  â””â”€ React Navigation 6                  â”‚
â”‚                                          â”‚
â”‚  çŠ¶æ€ç®¡ç†                                â”‚
â”‚  â”œâ”€ Redux Toolkit                       â”‚
â”‚  â””â”€ React Query (æ•°æ®è·å–)              â”‚
â”‚                                          â”‚
â”‚  APIé€šä¿¡                                 â”‚
â”‚  â”œâ”€ tRPC Client                         â”‚
â”‚  â””â”€ React Query                         â”‚
â”‚                                          â”‚
â”‚  UIç»„ä»¶                                  â”‚
â”‚  â”œâ”€ React Native Paper                  â”‚
â”‚  â””â”€ React Native Vector Icons           â”‚
â”‚                                          â”‚
â”‚  å·¥å…·åº“                                  â”‚
â”‚  â”œâ”€ AsyncStorage (æœ¬åœ°å­˜å‚¨)             â”‚
â”‚  â”œâ”€ react-native-image-picker           â”‚
â”‚  â””â”€ react-native-chart-kit              â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ç›‘æ§ä¸æ—¥å¿—ç³»ç»Ÿ

### ç›‘æ§æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (Application)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ Metrics      â”‚  PrometheusMetricsService             â”‚
â”‚  â”‚ Interceptor  â”‚  è‡ªåŠ¨æ”¶é›†HTTP/gRPCæŒ‡æ ‡                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚         â”‚                                                â”‚
â”‚         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Prometheus Metrics (/metrics endpoint)          â”‚  â”‚
â”‚  â”‚  â”œâ”€ http_requests_total                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ http_request_duration_seconds                â”‚  â”‚
â”‚  â”‚  â”œâ”€ grpc_calls_total                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ db_queries_total                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ cache_hits_total / cache_misses_total        â”‚  â”‚
â”‚  â”‚  â””â”€ ai_tokens_used_total                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Prometheus (Port 9090)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â€¢ 15ç§’æŠ“å–ä¸€æ¬¡æŒ‡æ ‡                              â”‚  â”‚
â”‚  â”‚  â€¢ æ—¶åºæ•°æ®åº“å­˜å‚¨                                â”‚  â”‚
â”‚  â”‚  â€¢ PromQLæŸ¥è¯¢è¯­è¨€                                â”‚  â”‚
â”‚  â”‚  â€¢ å‘Šè­¦è§„åˆ™è¯„ä¼°                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                         â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Grafana       â”‚     â”‚  Alertmanager   â”‚  â”‚  Third Party    â”‚
â”‚   (Port 3001)   â”‚     â”‚   (Port 9093)   â”‚  â”‚   Exporters     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Dashboards â”‚  â”‚     â”‚  â”‚ Alerts    â”‚  â”‚  â”‚  â”‚Node       â”‚  â”‚
â”‚  â”‚Panels     â”‚  â”‚     â”‚  â”‚ Routing   â”‚  â”‚  â”‚  â”‚Exporter   â”‚  â”‚
â”‚  â”‚Queries    â”‚  â”‚     â”‚  â”‚ Grouping  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â”‚ Silencing â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚Postgres   â”‚  â”‚
                        â”‚        â”‚         â”‚  â”‚  â”‚Exporter   â”‚  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                 â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                 â–¼            â”‚  â”‚Redis      â”‚  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚Exporter   â”‚  â”‚
                        â”‚  Notifications  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                        â”‚  â”œâ”€ Slack       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚  â”œâ”€ Email       â”‚
                        â”‚  â””â”€ Webhook     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¥å¿—æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (Application)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ElasticsearchLoggerService                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â€¢ ç»Ÿä¸€æ—¥å¿—æ ¼å¼                                  â”‚  â”‚
â”‚  â”‚  â€¢ TraceIdå…³è”                                   â”‚  â”‚
â”‚  â”‚  â€¢ æ‰¹é‡å†™å…¥                                      â”‚  â”‚
â”‚  â”‚  â€¢ è‡ªåŠ¨åˆ·æ–°                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Logstash (Port 5000, 5044)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Input:                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ HTTP (5000)                                  â”‚  â”‚
â”‚  â”‚  â””â”€ TCP (5044)                                   â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  Filter:                                         â”‚  â”‚
â”‚  â”‚  â”œâ”€ è§£ætimestamp                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ GeoIP (åœ°ç†ä½ç½®)                             â”‚  â”‚
â”‚  â”‚  â””â”€ æ ‡ç­¾å¤„ç†                                     â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  Output:                                         â”‚  â”‚
â”‚  â”‚  â”œâ”€ Elasticsearch                                â”‚  â”‚
â”‚  â”‚  â””â”€ Stdout (è°ƒè¯•)                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Elasticsearch (Port 9200)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Index: logs-{service}-{date}                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ timestamp                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ level                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ service                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ traceId                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ message                                      â”‚  â”‚
â”‚  â”‚  â””â”€ metadata                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Kibana (Port 5601)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â€¢ Discover (æ—¥å¿—æŸ¥è¯¢)                           â”‚  â”‚
â”‚  â”‚  â€¢ Dashboard (å¯è§†åŒ–)                            â”‚  â”‚
â”‚  â”‚  â€¢ Index Pattern (ç´¢å¼•æ¨¡å¼)                      â”‚  â”‚
â”‚  â”‚  â€¢ Search (å…¨æ–‡æœç´¢)                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é“¾è·¯è¿½è¸ªæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (Application)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  JaegerTracerService (OpenTelemetry)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â€¢ startActiveSpan()                             â”‚  â”‚
â”‚  â”‚  â€¢ getCurrentTraceId()                           â”‚  â”‚
â”‚  â”‚  â€¢ injectContext() - gRPC Metadata              â”‚  â”‚
â”‚  â”‚  â€¢ extractContext()                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                                â”‚
â”‚         â”‚ OTLP (OpenTelemetry Protocol)                 â”‚
â”‚         â–¼                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Jaeger Collector (Port 14268)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â€¢ æ¥æ”¶Spanæ•°æ®                                  â”‚  â”‚
â”‚  â”‚  â€¢ å­˜å‚¨åˆ°åç«¯                                    â”‚  â”‚
â”‚  â”‚  â€¢ é‡‡æ ·ç­–ç•¥                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Jaeger Query (Port 16686)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  UI Features:                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ æœåŠ¡ä¾èµ–å›¾                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ Traceæ—¶é—´çº¿                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Spanè¯¦æƒ…                                     â”‚  â”‚
â”‚  â”‚  â””â”€ æ€§èƒ½åˆ†æ                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Traceç¤ºä¾‹ï¼š
TraceID: abc123
  â”œâ”€ Span: API Gateway (10ms)
  â”‚   â”œâ”€ Span: User Service - ValidateToken (2ms)
  â”‚   â”œâ”€ Span: Exam Service - GetExam (5ms)
  â”‚   â”‚   â””â”€ Span: Question Service - GetQuestions (3ms)
  â”‚   â””â”€ Span: Analytics Service - RecordView (1ms)
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„

### Docker Composeéƒ¨ç½²

```yaml
# å®Œæ•´çš„ç›‘æ§æ ˆéƒ¨ç½²
services:
  # æœåŠ¡æ³¨å†Œä¸å‘ç°
  - consul (8500)
  
  # API Gateway
  - api-gateway (3000)
  
  # å¾®æœåŠ¡
  - user-service (50051)
  - exam-service (50052)
  - question-service (50053)
  - paper-service (50054)
  - ai-service (50055)
  - practice-service (50056)
  - analytics-service (50057)
  - social-service (50058)
  - document-service (50059)
  
  # ç›‘æ§
  - prometheus (9090)
  - grafana (3001)
  - alertmanager (9093)
  - jaeger (16686)
  
  # æ—¥å¿—
  - elasticsearch (9200)
  - logstash (5000)
  - kibana (5601)
  
  # æ•°æ®åº“
  - postgres (5432)
  - redis (6379)
  
  # Exporters
  - node-exporter (9100)
  - postgres-exporter (9187)
  - redis-exporter (9121)
```

### Kuberneteséƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Kubernetes Cluster                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Namespace: ai-quiz-system         â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚  Deployments:                      â”‚ â”‚
â”‚  â”‚  â”œâ”€ api-gateway (replicas: 3)     â”‚ â”‚
â”‚  â”‚  â”œâ”€ user-service (replicas: 2)    â”‚ â”‚
â”‚  â”‚  â”œâ”€ exam-service (replicas: 2)    â”‚ â”‚
â”‚  â”‚  â””â”€ ... (å…¶ä»–å¾®æœåŠ¡)               â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚  Services:                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ LoadBalancer (å¯¹å¤–)           â”‚ â”‚
â”‚  â”‚  â””â”€ ClusterIP (å†…éƒ¨)              â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚  ConfigMaps:                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ app-config                    â”‚ â”‚
â”‚  â”‚  â””â”€ prometheus-config             â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚  Secrets:                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ db-credentials                â”‚ â”‚
â”‚  â”‚  â””â”€ api-keys                      â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚  Ingress:                          â”‚ â”‚
â”‚  â”‚  â””â”€ Nginx Ingress Controller      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Namespace: monitoring             â”‚ â”‚
â”‚  â”‚  â”œâ”€ Prometheus Operator            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Grafana                        â”‚ â”‚
â”‚  â”‚  â””â”€ ELK Stack                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd packages/server
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. å¯åŠ¨ç›‘æ§æ ˆ

```bash
./scripts/start-monitoring.sh
```

### 4. å¯åŠ¨å¾®æœåŠ¡

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
npm run start:all

# æˆ–å•ç‹¬å¯åŠ¨
npm run start:user-service
npm run start:exam-service
# ...
```

### 5. è®¿é—®ç›‘æ§é¢æ¿

- ğŸ“Š Grafana: http://localhost:3001 (admin/admin)
- ğŸ“ˆ Prometheus: http://localhost:9090
- ğŸ” Jaeger: http://localhost:16686
- ğŸ“‹ Kibana: http://localhost:5601
- ğŸ”µ Consul: http://localhost:8500

---

## ğŸ“– å¼€å‘æŒ‡å—

### åˆ›å»ºæ–°å¾®æœåŠ¡

1. **å®šä¹‰Protoæ–‡ä»¶**

```protobuf
// proto/my-service.proto
syntax = "proto3";
package myservice;

service MyService {
  rpc DoSomething(Request) returns (Response);
}
```

2. **åˆ›å»ºæœåŠ¡ç›®å½•**

```
src/microservices/my-service/
â”œâ”€â”€ my-service-grpc.controller.ts
â”œâ”€â”€ my-service.service.ts
â”œâ”€â”€ my-service.module.ts
â””â”€â”€ main.ts
```

3. **å®ç°gRPC Controller**

```typescript
@Controller()
export class MyServiceGrpcController {
  @GrpcMethod('MyService', 'DoSomething')
  async doSomething(data: any) {
    // å®ç°é€»è¾‘
  }
}
```

4. **å¯åŠ¨æœåŠ¡**

```typescript
// main.ts
const app = await NestFactory.createMicroservice(MyServiceModule, {
  transport: Transport.GRPC,
  options: {
    package: 'myservice',
    protoPath: join(__dirname, '../../../proto/my-service.proto'),
    url: '0.0.0.0:50060',
  },
});
```

### é›†æˆç›‘æ§

```typescript
// åœ¨æ¨¡å—ä¸­å¯¼å…¥
import { PrometheusMetricsModule } from './common/monitoring/prometheus-metrics.module';
import { LoggingModule } from './common/logging/logging.module';
import { MetricsInterceptor } from './common/interceptors/metrics.interceptor';

@Module({
  imports: [PrometheusMetricsModule, LoggingModule],
  providers: [{
    provide: APP_INTERCEPTOR,
    useClass: MetricsInterceptor,
  }],
})
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç›‘æ§ä½¿ç”¨æŒ‡å—](./MONITORING_GUIDE.md)
- [å¾®æœåŠ¡åˆ—è¡¨](./src/microservices/README.md)
- [å¼€å‘æŒ‡å—](./COMPLETE_GUIDE.md)

---

**æ¶æ„ç‰ˆæœ¬ï¼š** V1.0  
**æœ€åæ›´æ–°ï¼š** 2025-10-14  
**ç»´æŠ¤å›¢é˜Ÿï¼š** AI Quiz Development Team


