# ğŸ“± AIæ™ºèƒ½é¢˜åº“ç³»ç»Ÿ - å‰ç«¯å®Œæ•´å¼€å‘æŒ‡å—

> **ç‰ˆæœ¬ï¼š** V2.0  
> **æ›´æ–°æ—¥æœŸï¼š** 2025-10-14  
> **æŠ€æœ¯æ ˆï¼š** React Native + HTML5 + TypeScript

---

## ğŸ“‘ ç›®å½•

1. [ç§»åŠ¨ç«¯å¼€å‘](#1-ç§»åŠ¨ç«¯å¼€å‘-react-native)
2. [Webé™æ€é¡µé¢](#2-webé™æ€é¡µé¢)
3. [Webç®¡ç†åå°](#3-webç®¡ç†åå°-è§„åˆ’ä¸­)
4. [UIè®¾è®¡è§„èŒƒ](#4-uiè®¾è®¡è§„èŒƒ)
5. [å¼€å‘å·¥ä½œæµ](#5-å¼€å‘å·¥ä½œæµ)

---

## 1. ç§»åŠ¨ç«¯å¼€å‘ (React Native)

### 1.1 é¡¹ç›®æ¦‚è¿°

**æŠ€æœ¯æ ˆï¼š**
- React Native 0.82 + TypeScript
- React Navigation 6ï¼ˆå¯¼èˆªï¼‰
- Redux Toolkitï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
- React Query + tRPC Clientï¼ˆæ•°æ®è·å–ï¼‰
- React Native Paperï¼ˆUIç»„ä»¶ï¼‰
- AsyncStorageï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰
- CodePushï¼ˆçƒ­æ›´æ–°ï¼‰

**æ”¯æŒå¹³å°ï¼š**
- âœ… iOS 10.0+
- âœ… Android 5.0+

### 1.2 é¡¹ç›®ç»“æ„

```
packages/mobile/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ screens/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/            # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ForgotPasswordScreen.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ home/            # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ NotificationScreen.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ practice/        # ç»ƒä¹ æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ PracticeModeScreen.tsx    # ç»ƒä¹ æ¨¡å¼é€‰æ‹©
â”‚   â”‚   â”‚   â”œâ”€â”€ QuestionScreen.tsx        # ç­”é¢˜é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ MemorizeScreen.tsx        # èƒŒé¢˜æ¨¡å¼
â”‚   â”‚   â”‚   â””â”€â”€ ResultScreen.tsx          # ç»ƒä¹ ç»“æœ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ exam/            # è€ƒè¯•æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ ExamListScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ExamDetailScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ExamScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ExamResultScreen.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ wrong/           # é”™é¢˜é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ WrongListScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ WrongDetailScreen.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ analytics/       # å­¦ä¹ åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ LearningCurveScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RadarChartScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ReportScreen.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ social/          # ç¤¾äº¤åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ LeaderboardScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PKBattleScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ForumScreen.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ profile/         # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚       â”œâ”€â”€ ProfileScreen.tsx
â”‚   â”‚       â”œâ”€â”€ SettingsScreen.tsx
â”‚   â”‚       â””â”€â”€ AboutScreen.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/          # åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Empty.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ question/        # é¢˜ç›®ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ QuestionCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ChoiceOption.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AnswerCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ExplanationCard.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ navigation/      # å¯¼èˆªç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ TabBar.tsx
â”‚   â”‚       â””â”€â”€ Header.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ navigation/          # å¯¼èˆªé…ç½®
â”‚   â”‚   â”œâ”€â”€ RootNavigator.tsx
â”‚   â”‚   â”œâ”€â”€ AuthNavigator.tsx
â”‚   â”‚   â”œâ”€â”€ MainTabNavigator.tsx
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ store/               # ReduxçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ slices/
â”‚   â”‚       â”œâ”€â”€ authSlice.ts
â”‚   â”‚       â”œâ”€â”€ practiceSlice.ts
â”‚   â”‚       â”œâ”€â”€ examSlice.ts
â”‚   â”‚       â””â”€â”€ settingsSlice.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ trpc.ts         # tRPCå®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â””â”€â”€ api.ts          # REST APIå°è£…
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ storage.ts      # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ formatters.ts   # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â””â”€â”€ validators.ts   # éªŒè¯å·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ usePractice.ts
â”‚   â”‚   â””â”€â”€ useTheme.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/               # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/           # å¸¸é‡é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ fonts/
â”‚   â”‚   â””â”€â”€ icons/
â”‚   â”‚
â”‚   â””â”€â”€ App.tsx              # åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ android/                 # AndroidåŸç”Ÿä»£ç 
â”œâ”€â”€ ios/                     # iOSåŸç”Ÿä»£ç 
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### 1.3 ç¯å¢ƒé…ç½®

#### 1.3.1 å®‰è£…ä¾èµ–

```bash
cd packages/mobile

# å®‰è£…æ ¸å¿ƒä¾èµ–
npm install @react-navigation/native @react-navigation/native-stack @react-navigation/bottom-tabs
npm install react-native-screens react-native-safe-area-context
npm install @reduxjs/toolkit react-redux
npm install @tanstack/react-query
npm install @trpc/client @trpc/react-query

# å®‰è£…UIç»„ä»¶åº“
npm install react-native-paper
npm install react-native-vector-icons
npm install react-native-svg

# å®‰è£…åŠŸèƒ½åº“
npm install @react-native-async-storage/async-storage
npm install react-native-image-picker
npm install react-native-chart-kit
npm install react-native-gesture-handler
npm install react-native-reanimated
npm install socket.io-client

# å®‰è£…å¼€å‘å·¥å…·
npm install -D @types/react-native-vector-icons
npm install -D reactotron-react-native

# çƒ­æ›´æ–°
npm install react-native-code-push
```

#### 1.3.2 iOSé…ç½®

```bash
cd ios
pod install
cd ..
```

åœ¨ `ios/Podfile` ä¸­æ·»åŠ æƒé™ï¼š

```ruby
# ç›¸æœºå’Œç›¸å†Œæƒé™
permissions_path = File.join(File.dirname(`node --print "require.resolve('react-native-permissions/package.json')"`), "ios")
pod 'Permission-Camera', :path => "#{permissions_path}/Camera"
pod 'Permission-PhotoLibrary', :path => "#{permissions_path}/PhotoLibrary"
```

åœ¨ `ios/Info.plist` ä¸­æ·»åŠ ï¼š

```xml
<key>NSCameraUsageDescription</key>
<string>éœ€è¦è®¿é—®ç›¸æœºä»¥æ‹ç…§æœé¢˜</string>
<key>NSPhotoLibraryUsageDescription</key>
<string>éœ€è¦è®¿é—®ç›¸å†Œä»¥é€‰æ‹©å›¾ç‰‡</string>
```

#### 1.3.3 Androidé…ç½®

åœ¨ `android/app/src/main/AndroidManifest.xml` ä¸­æ·»åŠ ï¼š

```xml
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
```

åœ¨ `android/app/build.gradle` ä¸­é…ç½®ï¼š

```gradle
android {
    defaultConfig {
        minSdkVersion 23
        targetSdkVersion 34
    }
}
```

### 1.4 æ ¸å¿ƒåŠŸèƒ½å®ç°

#### 1.4.1 tRPCå®¢æˆ·ç«¯é…ç½®

```typescript
// src/services/trpc.ts
import { createTRPCReact } from '@trpc/react-query';
import { httpBatchLink } from '@trpc/client';
import type { AppRouter } from '@server/presentation/routers';
import { getAuthToken } from '../utils/storage';

export const trpc = createTRPCReact<AppRouter>();

export const trpcClient = trpc.createClient({
  links: [
    httpBatchLink({
      url: 'http://localhost:3000/trpc',
      
      async headers() {
        const token = await getAuthToken();
        return {
          authorization: token ? `Bearer ${token}` : '',
        };
      },
      
      // è¯·æ±‚æ‹¦æˆª
      async fetch(url, options) {
        try {
          const response = await fetch(url, {
            ...options,
            credentials: 'include',
          });
          
          // 401é”™è¯¯å¤„ç†
          if (response.status === 401) {
            // æ¸…é™¤è®¤è¯ä¿¡æ¯
            await clearAuthData();
            // è·³è½¬ç™»å½•é¡µ
            // navigation.navigate('Login');
          }
          
          return response;
        } catch (error) {
          console.error('è¯·æ±‚é”™è¯¯:', error);
          throw error;
        }
      },
    }),
  ],
});
```

#### 1.4.2 æœ¬åœ°å­˜å‚¨å·¥å…·

```typescript
// src/utils/storage.ts
import AsyncStorage from '@react-native-async-storage/async-storage';

const KEYS = {
  AUTH_TOKEN: '@auth_token',
  USER_INFO: '@user_info',
  THEME: '@theme',
  LANGUAGE: '@language',
  PRACTICE_HISTORY: '@practice_history',
};

// è®¤è¯Token
export const saveAuthToken = async (token: string) => {
  await AsyncStorage.setItem(KEYS.AUTH_TOKEN, token);
};

export const getAuthToken = async () => {
  return await AsyncStorage.getItem(KEYS.AUTH_TOKEN);
};

export const removeAuthToken = async () => {
  await AsyncStorage.removeItem(KEYS.AUTH_TOKEN);
};

// ç”¨æˆ·ä¿¡æ¯
export const saveUserInfo = async (user: any) => {
  await AsyncStorage.setItem(KEYS.USER_INFO, JSON.stringify(user));
};

export const getUserInfo = async () => {
  const data = await AsyncStorage.getItem(KEYS.USER_INFO);
  return data ? JSON.parse(data) : null;
};

// æ¸…é™¤æ‰€æœ‰è®¤è¯æ•°æ®
export const clearAuthData = async () => {
  await Promise.all([
    removeAuthToken(),
    AsyncStorage.removeItem(KEYS.USER_INFO),
  ]);
};
```

#### 1.4.3 è®¤è¯é¡µé¢ç¤ºä¾‹

```typescript
// src/screens/auth/LoginScreen.tsx
import React, { useState } from 'react';
import { View, StyleSheet } from 'react-native';
import { TextInput, Button, Text } from 'react-native-paper';
import { trpc } from '../../services/trpc';
import { saveAuthToken, saveUserInfo } from '../../utils/storage';
import { useAppDispatch } from '../../hooks/useAuth';
import { setToken, setUser } from '../../store/slices/authSlice';

export const LoginScreen = ({ navigation }) => {
  const [identifier, setIdentifier] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  
  const dispatch = useAppDispatch();
  const loginMutation = trpc.auth.login.useMutation();
  
  const handleLogin = async () => {
    if (!identifier || !password) {
      setError('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
      return;
    }
    
    setLoading(true);
    setError('');
    
    try {
      const result = await loginMutation.mutateAsync({
        identifier,
        password,
      });
      
      // ä¿å­˜è®¤è¯ä¿¡æ¯
      await saveAuthToken(result.token);
      await saveUserInfo(result.user);
      
      // æ›´æ–°ReduxçŠ¶æ€
      dispatch(setToken(result.token));
      dispatch(setUser(result.user));
      
      // è·³è½¬åˆ°ä¸»é¡µ
      navigation.replace('Main');
    } catch (err) {
      setError(err.message || 'ç™»å½•å¤±è´¥');
    } finally {
      setLoading(false);
    }
  };
  
  return (
    <View style={styles.container}>
      <Text variant="headlineLarge" style={styles.title}>
        AIæ™ºèƒ½é¢˜åº“
      </Text>
      
      <TextInput
        label="ç”¨æˆ·åæˆ–é‚®ç®±"
        value={identifier}
        onChangeText={setIdentifier}
        style={styles.input}
        autoCapitalize="none"
      />
      
      <TextInput
        label="å¯†ç "
        value={password}
        onChangeText={setPassword}
        secureTextEntry
        style={styles.input}
      />
      
      {error ? (
        <Text style={styles.error}>{error}</Text>
      ) : null}
      
      <Button
        mode="contained"
        onPress={handleLogin}
        loading={loading}
        disabled={loading}
        style={styles.button}
      >
        ç™»å½•
      </Button>
      
      <Button
        mode="text"
        onPress={() => navigation.navigate('Register')}
      >
        è¿˜æ²¡æœ‰è´¦å·ï¼Ÿç«‹å³æ³¨å†Œ
      </Button>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    justifyContent: 'center',
  },
  title: {
    textAlign: 'center',
    marginBottom: 40,
  },
  input: {
    marginBottom: 16,
  },
  button: {
    marginTop: 8,
    marginBottom: 16,
  },
  error: {
    color: 'red',
    marginBottom: 16,
    textAlign: 'center',
  },
});
```

#### 1.4.4 ç­”é¢˜é¡µé¢ç¤ºä¾‹

```typescript
// src/screens/practice/QuestionScreen.tsx
import React, { useState, useEffect } from 'react';
import { View, ScrollView, StyleSheet } from 'react-native';
import { Button, Card, RadioButton, Checkbox, Text } from 'react-native-paper';
import { trpc } from '../../services/trpc';

export const QuestionScreen = ({ route, navigation }) => {
  const { practiceId } = route.params;
  const [currentIndex, setCurrentIndex] = useState(0);
  const [answers, setAnswers] = useState({});
  const [showAnswer, setShowAnswer] = useState(false);
  
  const { data: practice } = trpc.practice.getById.useQuery({ id: practiceId });
  const submitAnswerMutation = trpc.practice.submitAnswer.useMutation();
  
  const currentQuestion = practice?.questions[currentIndex];
  
  const handleSelectOption = (optionId: string) => {
    if (currentQuestion.type === 'MULTIPLE') {
      // å¤šé€‰é¢˜
      const currentAnswers = answers[currentQuestion.id] || [];
      const newAnswers = currentAnswers.includes(optionId)
        ? currentAnswers.filter(id => id !== optionId)
        : [...currentAnswers, optionId];
      setAnswers({ ...answers, [currentQuestion.id]: newAnswers });
    } else {
      // å•é€‰é¢˜
      setAnswers({ ...answers, [currentQuestion.id]: optionId });
    }
  };
  
  const handleSubmit = async () => {
    await submitAnswerMutation.mutateAsync({
      practiceId,
      questionId: currentQuestion.id,
      answer: answers[currentQuestion.id],
    });
    
    setShowAnswer(true);
  };
  
  const handleNext = () => {
    setShowAnswer(false);
    if (currentIndex < practice.questions.length - 1) {
      setCurrentIndex(currentIndex + 1);
    } else {
      navigation.navigate('Result', { practiceId });
    }
  };
  
  if (!currentQuestion) {
    return <Text>åŠ è½½ä¸­...</Text>;
  }
  
  return (
    <ScrollView style={styles.container}>
      <Card style={styles.card}>
        <Card.Content>
          <Text variant="titleMedium">
            é¢˜ç›® {currentIndex + 1}/{practice.questions.length}
          </Text>
          
          <Text variant="bodyLarge" style={styles.question}>
            {currentQuestion.content}
          </Text>
          
          {currentQuestion.type === 'SINGLE' && (
            <RadioButton.Group
              onValueChange={handleSelectOption}
              value={answers[currentQuestion.id] || ''}
            >
              {currentQuestion.options.map((option) => (
                <RadioButton.Item
                  key={option.id}
                  label={option.content}
                  value={option.id}
                  style={styles.option}
                />
              ))}
            </RadioButton.Group>
          )}
          
          {currentQuestion.type === 'MULTIPLE' && (
            currentQuestion.options.map((option) => (
              <Checkbox.Item
                key={option.id}
                label={option.content}
                status={
                  (answers[currentQuestion.id] || []).includes(option.id)
                    ? 'checked'
                    : 'unchecked'
                }
                onPress={() => handleSelectOption(option.id)}
                style={styles.option}
              />
            ))
          )}
          
          {showAnswer && (
            <View style={styles.answerSection}>
              <Text variant="titleMedium" style={styles.correctAnswer}>
                æ­£ç¡®ç­”æ¡ˆ: {currentQuestion.correctAnswer}
              </Text>
              <Text variant="bodyMedium" style={styles.explanation}>
                {currentQuestion.explanation}
              </Text>
            </View>
          )}
        </Card.Content>
        
        <Card.Actions>
          {!showAnswer ? (
            <Button mode="contained" onPress={handleSubmit}>
              æäº¤ç­”æ¡ˆ
            </Button>
          ) : (
            <Button mode="contained" onPress={handleNext}>
              {currentIndex < practice.questions.length - 1 ? 'ä¸‹ä¸€é¢˜' : 'æŸ¥çœ‹ç»“æœ'}
            </Button>
          )}
        </Card.Actions>
      </Card>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  card: {
    marginBottom: 16,
  },
  question: {
    marginVertical: 16,
  },
  option: {
    marginVertical: 4,
  },
  answerSection: {
    marginTop: 16,
    padding: 16,
    backgroundColor: '#f5f5f5',
    borderRadius: 8,
  },
  correctAnswer: {
    color: '#52c41a',
    marginBottom: 8,
  },
  explanation: {
    color: '#666',
  },
});
```

### 1.5 å¯¼èˆªé…ç½®

```typescript
// src/navigation/RootNavigator.tsx
import React, { useEffect, useState } from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { useAppSelector } from '../hooks/useAuth';
import { getAuthToken } from '../utils/storage';
import { LoginScreen, RegisterScreen } from '../screens/auth';
import { MainTabNavigator } from './MainTabNavigator';
import { LoadingScreen } from '../screens/LoadingScreen';

const Stack = createNativeStackNavigator();

export const RootNavigator = () => {
  const { token } = useAppSelector((state) => state.auth);
  const [isLoading, setIsLoading] = useState(true);
  const [hasToken, setHasToken] = useState(false);
  
  useEffect(() => {
    checkAuth();
  }, []);
  
  const checkAuth = async () => {
    try {
      const savedToken = await getAuthToken();
      setHasToken(!!savedToken);
    } catch (error) {
      console.error('æ£€æŸ¥è®¤è¯çŠ¶æ€å¤±è´¥:', error);
    } finally {
      setIsLoading(false);
    }
  };
  
  if (isLoading) {
    return <LoadingScreen />;
  }
  
  return (
    <NavigationContainer>
      <Stack.Navigator screenOptions={{ headerShown: false }}>
        {!token && !hasToken ? (
          <>
            <Stack.Screen name="Login" component={LoginScreen} />
            <Stack.Screen name="Register" component={RegisterScreen} />
          </>
        ) : (
          <Stack.Screen name="Main" component={MainTabNavigator} />
        )}
      </Stack.Navigator>
    </NavigationContainer>
  );
};
```

### 1.6 è¿è¡Œé¡¹ç›®

```bash
# iOS
npm run ios

# Android
npm run android

# æ¸…é™¤ç¼“å­˜
npm start -- --reset-cache
```

---

## 2. Webé™æ€é¡µé¢

### 2.1 é¡¹ç›®æ¦‚è¿°

**ä½ç½®ï¼š** `html-pages/`

**æŠ€æœ¯æ ˆï¼š**
- HTML5
- CSS3 (Flexbox + Grid)
- JavaScript ES6+
- å“åº”å¼è®¾è®¡

**å·²å®ç°åŠŸèƒ½ï¼š**
- âœ… 5ç§é¢˜å‹é¡µé¢ï¼ˆå•é€‰ã€å¤šé€‰ã€åˆ¤æ–­ã€å¡«ç©ºã€ç®€ç­”ï¼‰
- âœ… èƒŒé¢˜æ¨¡å¼
- âœ… ä¸»é¢˜åˆ‡æ¢ï¼ˆæµ…è‰²/æ·±è‰²/æŠ¤çœ¼ï¼‰
- âœ… ç­”é¢˜å¡
- âœ… å€’è®¡æ—¶
- âœ… è‡ªåŠ¨ä¿å­˜

### 2.2 æ–‡ä»¶ç»“æ„

```
html-pages/
â”œâ”€â”€ index.html                # é¦–é¡µå¯¼èˆª
â”œâ”€â”€ answer-choice.html        # å•é€‰é¢˜é¡µé¢
â”œâ”€â”€ answer-multiple.html      # å¤šé€‰é¢˜é¡µé¢
â”œâ”€â”€ answer-judge.html         # åˆ¤æ–­é¢˜é¡µé¢
â”œâ”€â”€ answer-fill.html          # å¡«ç©ºé¢˜é¡µé¢
â”œâ”€â”€ answer-essay.html         # ç®€ç­”é¢˜é¡µé¢
â”œâ”€â”€ answer-unanswered.html    # æœªç­”é¢˜çŠ¶æ€
â”œâ”€â”€ memorize.html             # èƒŒé¢˜æ¨¡å¼
â”œâ”€â”€ memorize-settings.html    # èƒŒé¢˜è®¾ç½®
â”‚
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ answer.css           # ç»Ÿä¸€æ ·å¼
â”‚   â”œâ”€â”€ memorize.css         # èƒŒé¢˜æ¨¡å¼æ ·å¼
â”‚   â””â”€â”€ themes.css           # ä¸»é¢˜æ ·å¼
â”‚
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ answer.js            # æ ¸å¿ƒäº¤äº’
â”‚   â”œâ”€â”€ multiple-choice.js   # å¤šé€‰é¢˜é€»è¾‘
â”‚   â”œâ”€â”€ memorize.js          # èƒŒé¢˜æ¨¡å¼é€»è¾‘
â”‚   â””â”€â”€ theme.js             # ä¸»é¢˜åˆ‡æ¢é€»è¾‘
â”‚
â””â”€â”€ images/                  # å›¾ç‰‡èµ„æº
```

### 2.3 æ ¸å¿ƒåŠŸèƒ½

#### 2.3.1 ç­”é¢˜å¡åŠŸèƒ½

```javascript
// js/answer.js
class AnswerCard {
  constructor() {
    this.questions = [];
    this.currentIndex = 0;
    this.answers = {};
  }
  
  // æ˜¾ç¤ºç­”é¢˜å¡
  show() {
    const overlay = document.getElementById('answer-card-overlay');
    overlay.classList.add('active');
    this.render();
  }
  
  // æ¸²æŸ“ç­”é¢˜å¡
  render() {
    const container = document.getElementById('answer-card-grid');
    container.innerHTML = '';
    
    this.questions.forEach((question, index) => {
      const item = document.createElement('div');
      item.className = 'answer-card-item';
      
      if (index === this.currentIndex) {
        item.classList.add('current');
      }
      
      if (this.answers[question.id]) {
        item.classList.add('answered');
      }
      
      item.textContent = index + 1;
      item.onclick = () => this.jumpTo(index);
      
      container.appendChild(item);
    });
  }
  
  // è·³è½¬åˆ°æŒ‡å®šé¢˜ç›®
  jumpTo(index) {
    this.currentIndex = index;
    this.hide();
    loadQuestion(this.questions[index]);
  }
}
```

#### 2.3.2 å€’è®¡æ—¶åŠŸèƒ½

```javascript
// js/answer.js
class Timer {
  constructor(duration, onTick, onEnd) {
    this.duration = duration; // ç§’
    this.remaining = duration;
    this.onTick = onTick;
    this.onEnd = onEnd;
    this.interval = null;
  }
  
  start() {
    this.interval = setInterval(() => {
      this.remaining--;
      
      // æ›´æ–°æ˜¾ç¤º
      this.onTick(this.remaining);
      
      // æ—¶é—´ä¸è¶³è­¦å‘Šï¼ˆæœ€å5åˆ†é’Ÿï¼‰
      if (this.remaining === 300) {
        alert('è¿˜å‰©5åˆ†é’Ÿï¼');
        document.getElementById('timer').classList.add('warning');
      }
      
      // æ—¶é—´åˆ°
      if (this.remaining <= 0) {
        this.stop();
        this.onEnd();
      }
    }, 1000);
  }
  
  stop() {
    if (this.interval) {
      clearInterval(this.interval);
      this.interval = null;
    }
  }
  
  formatTime(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    const secs = seconds % 60;
    
    return `${hours.toString().padStart(2, '0')}:${
      minutes.toString().padStart(2, '0')}:${
      secs.toString().padStart(2, '0')}`;
  }
}
```

#### 2.3.3 ä¸»é¢˜åˆ‡æ¢

```javascript
// js/theme.js
const THEMES = {
  LIGHT: 'light',
  DARK: 'dark',
  GREEN: 'green',
};

class ThemeManager {
  constructor() {
    this.currentTheme = this.loadTheme();
    this.apply(this.currentTheme);
  }
  
  // åº”ç”¨ä¸»é¢˜
  apply(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    this.currentTheme = theme;
    this.saveTheme(theme);
  }
  
  // åˆ‡æ¢ä¸»é¢˜
  toggle() {
    const themes = Object.values(THEMES);
    const currentIndex = themes.indexOf(this.currentTheme);
    const nextIndex = (currentIndex + 1) % themes.length;
    this.apply(themes[nextIndex]);
  }
  
  // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
  saveTheme(theme) {
    localStorage.setItem('theme', theme);
  }
  
  // ä»æœ¬åœ°å­˜å‚¨åŠ è½½
  loadTheme() {
    return localStorage.getItem('theme') || THEMES.LIGHT;
  }
}
```

#### 2.3.4 è‡ªåŠ¨ä¿å­˜

```javascript
// js/answer.js
class AutoSave {
  constructor(interval = 30000) { // é»˜è®¤30ç§’
    this.interval = interval;
    this.timer = null;
  }
  
  start(callback) {
    this.timer = setInterval(() => {
      callback();
      console.log('è‡ªåŠ¨ä¿å­˜ç­”æ¡ˆ...');
    }, this.interval);
  }
  
  stop() {
    if (this.timer) {
      clearInterval(this.timer);
      this.timer = null;
    }
  }
  
  saveNow() {
    // ä¿å­˜åˆ°localStorage
    const data = {
      answers: this.answers,
      currentIndex: this.currentIndex,
      timestamp: Date.now(),
    };
    localStorage.setItem('practice_data', JSON.stringify(data));
  }
  
  restore() {
    const data = localStorage.getItem('practice_data');
    if (data) {
      return JSON.parse(data);
    }
    return null;
  }
}
```

### 2.4 æ ·å¼è®¾è®¡

#### 2.4.1 ä¸»é¢˜é…è‰²

```css
/* css/themes.css */

/* æµ…è‰²æ¨¡å¼ */
:root[data-theme="light"] {
  --primary-color: #4A90E2;
  --error-color: #FF6B6B;
  --success-color: #52C41A;
  --background-color: #F5F7FA;
  --card-background: #FFFFFF;
  --text-color: #333333;
  --border-color: #E8E8E8;
}

/* æ·±è‰²æ¨¡å¼ */
:root[data-theme="dark"] {
  --primary-color: #1890FF;
  --error-color: #FF4D4F;
  --success-color: #52C41A;
  --background-color: #141414;
  --card-background: #1F1F1F;
  --text-color: #E8E8E8;
  --border-color: #303030;
}

/* æŠ¤çœ¼æ¨¡å¼ */
:root[data-theme="green"] {
  --primary-color: #52C41A;
  --error-color: #FF6B6B;
  --success-color: #73D13D;
  --background-color: #F0F5F0;
  --card-background: #FAFDF5;
  --text-color: #333333;
  --border-color: #D9F7BE;
}
```

#### 2.4.2 å“åº”å¼è®¾è®¡

```css
/* css/answer.css */

/* ç§»åŠ¨ç«¯ä¼˜å…ˆ */
.container {
  width: 100%;
  padding: 16px;
}

/* å¹³æ¿ */
@media screen and (min-width: 768px) {
  .container {
    max-width: 750px;
    margin: 0 auto;
    padding: 24px;
  }
}

/* æ¡Œé¢ */
@media screen and (min-width: 1024px) {
  .container {
    max-width: 1000px;
    padding: 32px;
  }
}
```

### 2.5 ä½¿ç”¨æ–¹æ³•

```bash
# ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨
python -m http.server 8000

# æˆ–ä½¿ç”¨Node.js
npx http-server -p 8000

# è®¿é—®
open http://localhost:8000
```

---

## 3. Webç®¡ç†åå°ï¼ˆè§„åˆ’ä¸­ï¼‰

### 3.1 æŠ€æœ¯é€‰å‹

**æ¨èæŠ€æœ¯æ ˆï¼š**
- React 18 + TypeScript
- React Router 6
- Redux Toolkit
- Ant Design / Material-UI
- React Query
- tRPC Client
- ECharts / Rechartsï¼ˆå›¾è¡¨ï¼‰

### 3.2 åŠŸèƒ½è§„åˆ’

#### æ•™å¸ˆç«¯æ ¸å¿ƒåŠŸèƒ½

1. **é¢˜åº“ç®¡ç†**
   - é¢˜ç›®CRUD
   - æ‰¹é‡å¯¼å…¥/å¯¼å‡º
   - é¢˜ç›®åˆ†ç±»ç®¡ç†
   - æ™ºèƒ½ç»„å·

2. **è€ƒè¯•ç®¡ç†**
   - åˆ›å»ºè€ƒè¯•
   - ç›‘è€ƒç®¡ç†
   - æˆç»©æŸ¥è¯¢
   - æ•°æ®åˆ†æ

3. **å­¦å‘˜ç®¡ç†**
   - å­¦å‘˜åˆ—è¡¨
   - å­¦ä¹ è¿›åº¦
   - æˆç»©ç»Ÿè®¡
   - å­¦ä¹ æŠ¥å‘Š

4. **æ•°æ®åˆ†æ**
   - æ•´ä½“æ•°æ®Dashboard
   - é¢˜ç›®æ­£ç¡®ç‡åˆ†æ
   - å­¦å‘˜èƒ½åŠ›åˆ†æ
   - çŸ¥è¯†ç‚¹æŒæ¡åº¦

### 3.3 ç›®å½•ç»“æ„ï¼ˆè§„åˆ’ï¼‰

```
packages/web-admin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Dashboard/            # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ Questions/            # é¢˜åº“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Exams/                # è€ƒè¯•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Students/             # å­¦å‘˜ç®¡ç†
â”‚   â”‚   â””â”€â”€ Analytics/            # æ•°æ®åˆ†æ
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ QuestionEditor/       # é¢˜ç›®ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ PaperGenerator/       # ç»„å·å·¥å…·
â”‚   â”‚   â””â”€â”€ DataCharts/           # å›¾è¡¨ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ AdminLayout/          # åå°å¸ƒå±€
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ trpc.ts               # tRPCå®¢æˆ·ç«¯
â”‚   â”‚
â”‚   â””â”€â”€ App.tsx
â”‚
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

---

## 4. UIè®¾è®¡è§„èŒƒ

### 4.1 è®¾è®¡åŸåˆ™

1. **ç§»åŠ¨ä¼˜å…ˆ** - ä¼˜å…ˆè€ƒè™‘ç§»åŠ¨ç«¯ä½“éªŒ
2. **ç®€æ´æ˜äº†** - ç•Œé¢æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜
3. **ä¸€è‡´æ€§** - ä¿æŒè®¾è®¡é£æ ¼ç»Ÿä¸€
4. **æ˜“ç”¨æ€§** - äº¤äº’å‹å¥½ï¼Œæ“ä½œæµç•…

### 4.2 é¢œè‰²è§„èŒƒ

```javascript
const Colors = {
  // ä¸»è‰²
  primary: '#4A90E2',
  primaryLight: '#6BA7E8',
  primaryDark: '#3A7AC8',
  
  // åŠŸèƒ½è‰²
  success: '#52C41A',
  warning: '#FAAD14',
  error: '#FF6B6B',
  info: '#1890FF',
  
  // ä¸­æ€§è‰²
  text: '#333333',
  textSecondary: '#666666',
  textLight: '#999999',
  border: '#E8E8E8',
  background: '#F5F7FA',
  white: '#FFFFFF',
  
  // è¯­ä¹‰è‰²
  correct: '#52C41A',  // æ­£ç¡®ç­”æ¡ˆ
  wrong: '#FF6B6B',    // é”™è¯¯ç­”æ¡ˆ
  unanswered: '#999999', // æœªç­”é¢˜
};
```

### 4.3 é—´è·è§„èŒƒ

```javascript
const Spacing = {
  xs: 4,
  sm: 8,
  md: 16,
  lg: 24,
  xl: 32,
  xxl: 48,
};
```

### 4.4 å­—ä½“è§„èŒƒ

```javascript
const Typography = {
  // æ ‡é¢˜
  h1: { fontSize: 32, fontWeight: 'bold' },
  h2: { fontSize: 28, fontWeight: 'bold' },
  h3: { fontSize: 24, fontWeight: 'bold' },
  h4: { fontSize: 20, fontWeight: 'bold' },
  
  // æ­£æ–‡
  body: { fontSize: 16, fontWeight: 'normal' },
  bodySmall: { fontSize: 14, fontWeight: 'normal' },
  caption: { fontSize: 12, fontWeight: 'normal' },
};
```

### 4.5 ç»„ä»¶è§„èŒƒ

#### æŒ‰é’®

```typescript
// ä¸»æŒ‰é’®
<Button mode="contained" color="primary">
  ç¡®å®š
</Button>

// æ¬¡æŒ‰é’®
<Button mode="outlined" color="primary">
  å–æ¶ˆ
</Button>

// æ–‡æœ¬æŒ‰é’®
<Button mode="text" color="primary">
  äº†è§£æ›´å¤š
</Button>
```

#### å¡ç‰‡

```typescript
<Card style={styles.card}>
  <Card.Content>
    {/* å†…å®¹ */}
  </Card.Content>
  <Card.Actions>
    {/* æ“ä½œæŒ‰é’® */}
  </Card.Actions>
</Card>
```

---

## 5. å¼€å‘å·¥ä½œæµ

### 5.1 å¼€å‘æµç¨‹

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/question-practice

# 2. å¼€å‘åŠŸèƒ½
# ç¼–å†™ä»£ç ...

# 3. è¿è¡Œæµ‹è¯•
npm run test

# 4. ä»£ç æ ¼å¼åŒ–
npm run format
npm run lint

# 5. æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ ç»ƒä¹ æ¨¡å¼"

# 6. æ¨é€åˆ°è¿œç¨‹
git push origin feature/question-practice

# 7. åˆ›å»ºPull Request
```

### 5.2 ä»£ç è§„èŒƒ

#### æ–‡ä»¶å‘½å

```
- ç»„ä»¶: PascalCase (QuestionCard.tsx)
- å·¥å…·: camelCase (formatters.ts)
- å¸¸é‡: UPPER_SNAKE_CASE (API_CONFIG)
- æ ·å¼: kebab-case (answer-card.css)
```

#### ç»„ä»¶è§„èŒƒ

```typescript
// âœ… æ¨èå†™æ³•
import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet } from 'react-native';

interface Props {
  title: string;
  onPress: () => void;
}

export const MyComponent: React.FC<Props> = ({ title, onPress }) => {
  const [state, setState] = useState(false);
  
  useEffect(() => {
    // å‰¯ä½œç”¨
  }, []);
  
  return (
    <View style={styles.container}>
      <Text>{title}</Text>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
});
```

### 5.3 Gitæäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: Bugä¿®å¤
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»º/å·¥å…·
perf: æ€§èƒ½ä¼˜åŒ–
```

### 5.4 æµ‹è¯•

```bash
# å•å…ƒæµ‹è¯•
npm run test

# E2Eæµ‹è¯•
npm run test:e2e

# æµ‹è¯•è¦†ç›–ç‡
npm run test:cov
```

### 5.5 å‘å¸ƒ

#### iOSå‘å¸ƒ

```bash
cd ios
bundle exec fastlane beta  # TestFlight
bundle exec fastlane release  # App Store
```

#### Androidå‘å¸ƒ

```bash
cd android
./gradlew assembleRelease
./gradlew bundleRelease
```

---

## ğŸ“š é™„å½•

### A. å¸¸ç”¨å‘½ä»¤

```bash
# ç§»åŠ¨ç«¯
npm run ios
npm run android
npm start -- --reset-cache

# Web
python -m http.server 8000
npx http-server -p 8000

# æµ‹è¯•
npm run test
npm run lint
npm run format
```

### B. å¸¸è§é—®é¢˜

**Q: Metro bundlerç¼“å­˜é—®é¢˜ï¼Ÿ**
```bash
npm start -- --reset-cache
```

**Q: iOSæ„å»ºå¤±è´¥ï¼Ÿ**
```bash
cd ios && pod deintegrate && pod install && cd ..
```

**Q: Androidæ„å»ºå¤±è´¥ï¼Ÿ**
```bash
cd android && ./gradlew clean && cd ..
```

**Q: tRPCç±»å‹æç¤ºä¸å·¥ä½œï¼Ÿ**
```bash
cd packages/server && npm run build
```

### C. å‚è€ƒèµ„æº

- [React Nativeæ–‡æ¡£](https://reactnative.dev/)
- [React Navigationæ–‡æ¡£](https://reactnavigation.org/)
- [Redux Toolkitæ–‡æ¡£](https://redux-toolkit.js.org/)
- [tRPCæ–‡æ¡£](https://trpc.io/)
- [React Native Paperæ–‡æ¡£](https://reactnativepaper.com/)

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** V2.0  
**æœ€åæ›´æ–°ï¼š** 2025-10-14  
**ç»´æŠ¤å›¢é˜Ÿï¼š** Frontend Team


